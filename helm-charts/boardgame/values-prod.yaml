# ============================================================
# PRODUCTION ENVIRONMENT OVERRIDES
# ============================================================
# This file contains production-specific configurations.
# Merged with values.yaml during deployment.
#
# Deploy command:
#   helm upgrade boardgame-prod . -f values.yaml -f values-prod.yaml

environment: prod

# ============================================================
# DEPLOYMENT - HA setup with more resources
# ============================================================
replicaCount: 3         # High availability (spread across nodes)

resources:
  limits:
    cpu: 1000m           # More CPU for production load
    memory: 1Gi          # More memory for production
  requests:
    cpu: 200m            # Higher requests ensure QoS
    memory: 512Mi

# ============================================================
# APPLICATION - Production-hardened settings
# ============================================================
env:
  # DISABLE H2 console in production (security)
  springH2ConsoleEnabled: "false"
  
  # Production-specific env vars:
  # springProfilesActive: "prod"
  # loggingLevel: "INFO"

# ============================================================
# INGRESS - Production domain with SSL
# ============================================================
ingress:
  # Production domain
  host: boardgame.app.thweb.click
  
  # SSL enabled (Let's Encrypt)
  tls:
    enabled: true
    secretName: boardgame-tls
  
  # Production annotations - add rate limiting
  annotations:
    cert-manager.io/cluster-issuer: "letsencrypt-prod"
    nginx.ingress.kubernetes.io/ssl-redirect: "true"
    
    # Production-specific: Rate limiting
    nginx.ingress.kubernetes.io/limit-rps: "100"
    
    # Production-specific: Request timeout
    nginx.ingress.kubernetes.io/proxy-read-timeout: "60"
    nginx.ingress.kubernetes.io/proxy-send-timeout: "60"